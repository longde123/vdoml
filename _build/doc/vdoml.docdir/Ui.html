<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="next" href="Html.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class types" rel=Appendix href="index_class_types.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Ui" rel="Chapter" href="Ui.html">
<link title="Html" rel="Chapter" href="Html.html">
<link title="Collection_cache" rel="Chapter" href="Collection_cache.html">
<link title="Event" rel="Chapter" href="Event.html">
<link title="Curry" rel="Chapter" href="Curry.html"><link title="UI Components" rel="Section" href="#2_UIComponents">
<link title="Advanced API" rel="Section" href="#2_AdvancedAPI">
<title>Ui</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Html.html" title="Html">Next</a>
</div>
<h1>Module <a href="type_Ui.html">Ui</a></h1>

<pre><span class="keyword">module</span> Ui: <code class="code">sig</code> <a href="Ui.html">..</a> <code class="code">end</code></pre><div class="info module top">
Top-level user-interface functionality<br>
</div>
<hr width="100%">
<br>
<h2 id="2_UIComponents">UI Components</h2>
<p>

  UI components consist of three main parts:<ul>
<li>state: the current</li>
<li>view function: takes state and generates the current (virtual) HTML to represent this component</li>
<li>update function: takes the current state, an update message, and returns the new state. Also known as a step function,
     as it effectively implements a single "step" of the component's state machine.</li>
</ul>
<br>

<pre><span id="TYPEcomponent"><span class="keyword">type</span> <code class="type">('state, 'message)</code> component</span> </pre>


<pre><span id="TYPEinstance"><span class="keyword">type</span> <code class="type">('state, 'message)</code> instance</span> </pre>


<pre><span id="TYPEview_fn"><span class="keyword">type</span> <code class="type">('state, 'message)</code> view_fn</span> = <code class="type">('state, 'message) <a href="Ui.html#TYPEinstance">instance</a> -> 'state -> 'message <a href="Html.html#TYPEhtml">Html.html</a></code> </pre>


<pre><span id="TYPEemit_fn"><span class="keyword">type</span> <code class="type">'message</code> emit_fn</span> = <code class="type">'message -> unit</code> </pre>


<pre><span id="TYPEnode"><span class="keyword">type</span> <code class="type">'message</code> node</span> = <code class="type">'message <a href="Html.html#TYPEhtml">Html.html</a></code> </pre>


<pre><span id="TYPEidentity"><span class="keyword">type</span> <code class="type"></code>identity</span> = <code class="type">[ `Int of int | `String of string ]</code> </pre>


<pre><span id="VALidentify"><span class="keyword">val</span> identify</span> : <code class="type"><a href="Ui.html#TYPEidentity">identity</a> -> 'msg <a href="Ui.html#TYPEnode">node</a> -> 'msg <a href="Ui.html#TYPEnode">node</a></code></pre><div class="info ">
Assign an identity to a node. This will be used by the diffing algorithm to
    track potentially-reordered nodes across susequent renders.<br>
</div>

<pre><span id="VALcomponent"><span class="keyword">val</span> component</span> : <code class="type">update:('state -> 'message -> 'state) -><br>       view:('state, 'message) <a href="Ui.html#TYPEview_fn">view_fn</a> -><br>       'state -> ('state, 'message) <a href="Ui.html#TYPEcomponent">component</a></code></pre><div class="info ">
Create a component with the given view function, update function and initial state.<br>
</div>

<pre><span id="VALemit"><span class="keyword">val</span> emit</span> : <code class="type">('state, 'message) <a href="Ui.html#TYPEinstance">instance</a> -> 'message <a href="Ui.html#TYPEemit_fn">emit_fn</a></code></pre><div class="info ">
Emit an update message to the given instance<br>
</div>

<pre><span id="VALcollection"><span class="keyword">val</span> collection</span> : <code class="type">view:('child_state, 'message) <a href="Ui.html#TYPEview_fn">view_fn</a> -><br>       id:('child_state -> <a href="Ui.html#TYPEidentity">identity</a>) -><br>       ('state, 'message) <a href="Ui.html#TYPEinstance">instance</a> -> 'child_state list -> 'message <a href="Ui.html#TYPEnode">node</a> list</code></pre>
<pre><span id="VALchildren"><span class="keyword">val</span> children</span> : <code class="type">view:('child_state, 'child_message) <a href="Ui.html#TYPEview_fn">view_fn</a> -><br>       message:('child_message -> 'message) -><br>       id:('child_state -> <a href="Ui.html#TYPEidentity">identity</a>) -><br>       ('state, 'message) <a href="Ui.html#TYPEinstance">instance</a> -> 'child_state list -> 'message <a href="Ui.html#TYPEnode">node</a> list</code></pre>
<pre><span id="VALchild"><span class="keyword">val</span> child</span> : <code class="type">view:('child_state, 'child_message) <a href="Ui.html#TYPEview_fn">view_fn</a> -><br>       message:('child_message -> 'message) -><br>       ?id:<a href="Ui.html#TYPEidentity">identity</a> -><br>       ('state, 'message) <a href="Ui.html#TYPEinstance">instance</a> -> 'child_state -> 'message <a href="Html.html#TYPEhtml">Html.html</a></code></pre>
<pre><span id="VALbind"><span class="keyword">val</span> bind</span> : <code class="type">('state, 'message) <a href="Ui.html#TYPEinstance">instance</a> -><br>       ('state -> 'arg -> 'msg <a href="Event.html#TYPEresult">Event.result</a>) -> 'arg -> 'msg <a href="Event.html#TYPEresult">Event.result</a></code></pre>
<pre><span id="TYPEcontext"><span class="keyword">type</span> <code class="type"></code>context</span> </pre>


<pre><span id="VALasync"><span class="keyword">val</span> async</span> : <code class="type">('state, 'message) <a href="Ui.html#TYPEinstance">instance</a> -> unit Lwt.t -> unit</code></pre>
<pre><span id="VALabort"><span class="keyword">val</span> abort</span> : <code class="type">('state, 'message) <a href="Ui.html#TYPEinstance">instance</a> -> unit</code></pre>
<pre><span id="VALonload"><span class="keyword">val</span> onload</span> : <code class="type">(unit -> unit Lwt.t) -> unit</code></pre>
<pre><span id="VALmain"><span class="keyword">val</span> main</span> : <code class="type">?log:Logs.level -><br>       ?root:string -><br>       ?get_root:(unit -> Dom_html.element Js.t) -><br>       ?background:(('state, 'message) <a href="Ui.html#TYPEinstance">instance</a> -> unit) -><br>       ('state, 'message) <a href="Ui.html#TYPEcomponent">component</a> -> unit -> unit Lwt.t</code></pre><br>
<h2 id="2_AdvancedAPI">Advanced API</h2><br>

<pre><span id="VALrender"><span class="keyword">val</span> render</span> : <code class="type">('state, 'message) <a href="Ui.html#TYPEcomponent">component</a> -><br>       Dom_html.element Js.t -> ('state, 'message) <a href="Ui.html#TYPEinstance">instance</a> * <a href="Ui.html#TYPEcontext">context</a></code></pre><div class="info ">
Begin a render lifecycle for a toplevel component.
      Returns the Ui instance corresponding to the component,
      as well as a <a href="Ui.html#TYPEcontext"><code class="code">Ui.context</code></a> representing the lifecycle
      of this component tree.<br>
</div>

<pre><span id="VALinit_logging"><span class="keyword">val</span> init_logging</span> : <code class="type">unit -> unit</code></pre><div class="info ">
ensure logging is initialized. Ui.main will call this for you<br>
</div>

<pre><span id="VALset_log_level"><span class="keyword">val</span> set_log_level</span> : <code class="type">Logs.level -> unit</code></pre><div class="info ">
ensure logging is initialized. Ui.main will call this for you<br>
</div>
</body></html>